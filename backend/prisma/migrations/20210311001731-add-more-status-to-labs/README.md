# Migration `20210311001731-add-more-status-to-labs`

This migration has been generated by etahoon at 3/11/2021, 2:17:32 AM.
You can check out the [state of the schema](./schema.prisma) after the migration.

## Database Steps

```sql
CREATE TYPE "public"."LabStatus" AS ENUM ('Draft', 'Pending', 'Completed')

ALTER TABLE "public"."Image" DROP COLUMN "status",
ADD COLUMN "status" "LabStatus"  NOT NULL 

ALTER TABLE "public"."Lab" DROP COLUMN "status",
ADD COLUMN "status" "LabStatus"  NOT NULL 

DROP TYPE "LabDocStatus"
```

## Changes

```diff
diff --git schema.prisma schema.prisma
migration 20210311000757-remove-appt-labs..20210311001731-add-more-status-to-labs
--- datamodel.dml
+++ datamodel.dml
@@ -1,7 +1,7 @@
 datasource postgresql {
   provider = "postgresql"
-  url = "***"
+  url = "***"
 }
 generator client {
   provider = "prisma-client-js"
@@ -14,11 +14,12 @@
   Session
   Surgery
 }
-enum LabDocStatus {
-  completed
-  pending
+enum LabStatus {
+  Draft
+  Pending
+  Completed
 }
 enum AppointmentStatus {
   Scheduled
@@ -313,9 +314,9 @@
 }
 model Lab {
   id              String        @id @default(uuid())
-  status          LabDocStatus
+  status          LabStatus
   requiredDate    DateTime      @default(now())
   resultDate      DateTime?
   value           String?
   patient         Patient       @relation(fields: [patientId], references: [id])
@@ -336,9 +337,9 @@
 }
 model Image {
   id                String          @id @default(uuid())
-  status            LabDocStatus
+  status            LabStatus
   requiredDate      DateTime        @default(now())
   resultDate        DateTime?
   value             String?
   patient           Patient         @relation(fields: [patientId], references: [id])
```


