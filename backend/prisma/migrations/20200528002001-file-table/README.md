# Migration `20200528002001-file-table`

This migration has been generated by etahoon at 5/28/2020, 12:20:01 AM.
You can check out the [state of the schema](./schema.prisma) after the migration.

## Database Steps

```sql
CREATE TABLE "public"."File" (
"encoding" text  NOT NULL ,"filename" text  NOT NULL ,"id" text  NOT NULL ,"mimetype" text  NOT NULL ,"path" text  NOT NULL ,
    PRIMARY KEY ("id"))

ALTER TABLE "public"."Appointment" ALTER COLUMN "status" DROP DEFAULT;
```

## Changes

```diff
diff --git schema.prisma schema.prisma
migration 20200518080023-rename-occured-to-done..20200528002001-file-table
--- datamodel.dml
+++ datamodel.dml
@@ -1,7 +1,7 @@
 datasource db {
   provider = "postgresql"
-  url = "***"
+  url      = env("DATABASE_URL")
 }
 generator client {
   provider = "prisma-client-js"
@@ -67,19 +67,19 @@
   sex          Sex
 }
 model Appointment {
-  id              String             @default(uuid()) @id
-  date            DateTime           @default(now()) @unique
-  type            AppointmentType
-  patient         Patient            @relation(fields: [patientId], references: [id])
-  patientId       String
-  specialty       Specialty
-  doctor          User               @relation(fields: [doctorId], references: [id])
-  doctorId        String
-  labs            String?            @default("[]")
-  status          AppointmentStatus
-  data            AppointmentField[]
+  id        String             @default(uuid()) @id
+  date      DateTime           @default(now()) @unique
+  type      AppointmentType
+  patient   Patient            @relation(fields: [patientId], references: [id])
+  patientId String
+  specialty Specialty
+  doctor    User               @relation(fields: [doctorId], references: [id])
+  doctorId  String
+  labs      String?            @default("[]")
+  status    AppointmentStatus
+  data      AppointmentField[]
 }
 model View {
   id                   String       @default(uuid()) @id
@@ -135,5 +135,13 @@
   fieldId       String
   value         String
   @@unique([appointmentId, fieldId], name: "appointment_fieldId_unique_constraint")
+}
+
+model File {
+  id       String @default(uuid()) @id
+  path     String
+  filename String
+  mimetype String
+  encoding String
 }
```


