// This is your Prisma schema file,
// learn more about it in the docs https//pris.ly/d/prisma-schema

datasource db {
  provider = "postgresql"
  url = "***"
}

generator client {
  provider = "prisma-client-js"
}

enum AppointmentType {
    Examination
    Followup
}

enum Sex {
    Female
    Male
}

enum Specialty {
  Dentistry
}

enum PatientMembershipType {
  Primary
  Secondary
}

model User {
  id                 Int @default(autoincrement()) @id
  name               String
  specialty          Specialty
}

model Patient {
  id                 Int @default(autoincrement()) @id
  name               String
  phoneNo            String @unique
  type               PatientMembershipType
  appointments       Appointment[]
  age                Int
  sex                Sex
}

model Appointment {
  id                 Int @default(autoincrement()) @id
  date               DateTime @unique @default(now())
  type               AppointmentType
  patient            Patient @relation(fields: [patientId], references: [id])
  patientId          Int
  specialty          Specialty
  doctor             User @relation(fields: [doctorId], references: [id])
  doctorId           Int
  labs               String? 
  complain           String? 
  signs              String? 
  diagnosis          String? 
  treatment          String? 
  recommendations    String? 

  weight             Float? 
  height             Float? 
  pulse              Float? 
  temp               Float? 
  glucoseLevel       Float? 
  archived           Boolean?
}

