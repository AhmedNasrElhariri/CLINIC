# Migration `20200714042419-medical-and-family-history`

This migration has been generated by etahoon at 7/14/2020, 4:24:19 AM.
You can check out the [state of the schema](./schema.prisma) after the migration.

## Database Steps

```sql
CREATE TABLE "public"."MedicalHistory" (
"dose" text   ,"frequency" text   ,"fromDate" timestamp(3)   ,"id" text  NOT NULL ,"medecineName" text  NOT NULL ,
    PRIMARY KEY ("id"))

CREATE TABLE "public"."FamilyHistory" (
"disease" text  NOT NULL ,"id" text  NOT NULL ,"relative" text  NOT NULL ,
    PRIMARY KEY ("id"))

ALTER TABLE "public"."Clinic" ALTER COLUMN "address" SET DEFAULT '',
ALTER COLUMN "doctorJobDescription" SET DEFAULT '',
ALTER COLUMN "doctorName" SET DEFAULT '',
ALTER COLUMN "doctorTitle" SET DEFAULT '',
ALTER COLUMN "phoneNo" SET DEFAULT '';
```

## Changes

```diff
diff --git schema.prisma schema.prisma
migration 20200711092640-fix-typos..20200714042419-medical-and-family-history
--- datamodel.dml
+++ datamodel.dml
@@ -1,7 +1,7 @@
 datasource db {
   provider = "postgresql"
-  url = "***"
+  url      = env("DATABASE_URL")
 }
 generator client {
   provider = "prisma-client-js"
@@ -215,4 +215,18 @@
   fileId       String
   patientLab   PatientLab @relation(fields: [patientLabId], references: [id])
   patientLabId String
 }
+
+model MedicalHistory {
+  id           String    @default(uuid()) @id
+  medecineName String
+  frequency    String?
+  dose         String?
+  fromDate     DateTime?
+}
+
+model FamilyHistory {
+  id       String @default(uuid()) @id
+  disease  String
+  relative String
+}
```


