# Migration `20210327154730-add-course`

This migration has been generated by ahmed nasr at 3/27/2021, 5:47:30 PM.
You can check out the [state of the schema](./schema.prisma) after the migration.

## Database Steps

```sql
CREATE TABLE "public"."CourseDefinition" (
"id" text   NOT NULL ,
"name" text   NOT NULL ,
"type" text   NOT NULL ,
"price" text   NOT NULL ,
"units" text   NOT NULL ,
"userId" text   NOT NULL ,
PRIMARY KEY ("id")
)

ALTER TABLE "public"."CourseDefinition" ADD FOREIGN KEY ("userId")REFERENCES "public"."User"("id") ON DELETE CASCADE ON UPDATE CASCADE
```

## Changes

```diff
diff --git schema.prisma schema.prisma
migration 20210320225135-init..20210327154730-add-course
--- datamodel.dml
+++ datamodel.dml
@@ -1,7 +1,7 @@
 datasource postgresql {
   provider = "postgresql"
-  url = "***"
+  url = "***"
 }
 generator client {
   provider = "prisma-client-js"
@@ -146,8 +146,9 @@
   item                Item[]
   timing              Timing[]
   labCategories       LabCategory[]
   imageCategories     ImageCategory[]
+  CourseDefinition    CourseDefinition[]
 }
 model Patient {
   id               String                @id @default(uuid())
@@ -504,8 +505,18 @@
   userId   String
   Image    Image[]
 }
+model CourseDefinition {
+  id     String @id @default(uuid())
+  name   String
+  type   String
+  price  String
+  units  String
+  user   User   @relation(fields: [userId], references: [id])
+  userId String
+}
+
 model ImageCategory {
   id     String @id @default(uuid())
   name   String
   user   User   @relation(fields: [userId], references: [id])
```


