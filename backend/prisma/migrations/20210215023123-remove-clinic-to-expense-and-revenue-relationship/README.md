# Migration `20210215023123-remove-clinic-to-expense-and-revenue-relationship`

This migration has been generated by etahoon at 2/15/2021, 4:31:23 AM.
You can check out the [state of the schema](./schema.prisma) after the migration.

## Database Steps

```sql
ALTER TABLE "public"."_ClinicToUser" DROP CONSTRAINT "_ClinicToUser_A_fkey"

ALTER TABLE "public"."_ClinicToUser" DROP CONSTRAINT "_ClinicToUser_B_fkey"

ALTER TABLE "public"."Expense" DROP CONSTRAINT "Expense_clinicId_fkey"

ALTER TABLE "public"."Revenue" DROP CONSTRAINT "Revenue_clinicId_fkey"

ALTER TABLE "public"."Expense" DROP COLUMN "clinicId"

ALTER TABLE "public"."Revenue" DROP COLUMN "clinicId"

DROP TABLE "public"."_ClinicToUser"
```

## Changes

```diff
diff --git schema.prisma schema.prisma
migration 20210213113759-add-new-types..20210215023123-remove-clinic-to-expense-and-revenue-relationship
--- datamodel.dml
+++ datamodel.dml
@@ -1,7 +1,7 @@
 datasource postgresql {
   provider = "postgresql"
-  url = "***"
+  url = "***"
 }
 generator client {
   provider = "prisma-client-js"
@@ -117,9 +117,8 @@
   roleId              String?
   appointments        Appointment[]
   views               View[]
   viewStatus          ViewStatus[]
-  clinics             Clinic[]             @relation(references: [id])
   workingHours        WorkingHours[]
   snippets            Snippet[]
   permissions         Json                 @default("[]")
   avatar              String?
@@ -245,12 +244,9 @@
   urgentPrice       Int     @default(0)
   duration          Int     @default(5)
   appointmentsCount Int     @default(20)
-  users            User[]             @relation(references: [id])
   organizationId   String
-  expense          Expense[]
-  revenue          Revenue[]
   sessions         Json               @default("[]")
   inventoryItem    InventoryItem[]
   inventoryHistory InventoryHistory[]
   File             File?              @relation(fields: [fileId], references: [id])
@@ -325,20 +321,16 @@
   name      String
   date      DateTime
   amount    Int
   invoiceNo String?
-  clinic    Clinic   @relation(fields: [clinicId], references: [id])
-  clinicId  String
 }
 model Revenue {
   id        String   @id @default(uuid())
   name      String
   date      DateTime
   amount    Int
   invoiceNo String?
-  clinic    Clinic   @relation(fields: [clinicId], references: [id])
-  clinicId  String
 }
 model Notification {
   id         String   @id @default(uuid())
```
