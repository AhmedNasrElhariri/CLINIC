# Migration `20200709034636-snippets`

This migration has been generated by etahoon at 7/9/2020, 3:46:36 AM.
You can check out the [state of the schema](./schema.prisma) after the migration.

## Database Steps

```sql
CREATE TABLE "public"."Snippet" (
"body" text  NOT NULL ,"id" text  NOT NULL ,"title" text  NOT NULL ,"userId" text  NOT NULL ,
    PRIMARY KEY ("id"))

ALTER TABLE "public"."Clinic" ALTER COLUMN "address" SET DEFAULT '',
ALTER COLUMN "doctorJobDescription" SET DEFAULT '',
ALTER COLUMN "doctorName" SET DEFAULT '',
ALTER COLUMN "doctorTitle" SET DEFAULT '',
ALTER COLUMN "phoneNo" SET DEFAULT '';

ALTER TABLE "public"."Snippet" ADD FOREIGN KEY ("userId")REFERENCES "public"."User"("id") ON DELETE CASCADE  ON UPDATE CASCADE
```

## Changes

```diff
diff --git schema.prisma schema.prisma
migration 20200626151259-add-guradian-name..20200709034636-snippets
--- datamodel.dml
+++ datamodel.dml
@@ -1,7 +1,7 @@
 datasource db {
   provider = "postgresql"
-  url = "***"
+  url      = env("DATABASE_URL")
 }
 generator client {
   provider = "prisma-client-js"
@@ -56,8 +56,9 @@
   View           View[]
   ViewStatus     ViewStatus[]
   clinics        Clinic[]       @relation(references: [id])
   WorkingHours   WorkingHours[]
+  Snippet        Snippet[]
 }
 model Patient {
   id             String                @default(uuid()) @id
@@ -187,4 +188,12 @@
   doctorId String
   start    DateTime
   end      DateTime
 }
+
+model Snippet {
+  id     String @default(uuid()) @id
+  user   User   @relation(fields: [userId], references: [id])
+  userId String
+  title  String
+  body   String
+}
```


