# Migration `20210201173148-chagne-medical-to-medeicne`

This migration has been generated by etahoon at 2/1/2021, 7:31:48 PM.
You can check out the [state of the schema](./schema.prisma) after the migration.

## Database Steps

```sql
ALTER TABLE "public"."MedicalHistory" DROP CONSTRAINT "MedicalHistory_patientId_fkey"

CREATE TABLE "public"."MedicineHistory" (
"id" text   NOT NULL ,
"medicineName" text   NOT NULL ,
"frequency" text   ,
"dose" text   ,
"fromDate" timestamp(3)   ,
"patientId" text   NOT NULL ,
PRIMARY KEY ("id")
)

ALTER TABLE "public"."MedicineHistory" ADD FOREIGN KEY ("patientId")REFERENCES "public"."Patient"("id") ON DELETE CASCADE ON UPDATE CASCADE

DROP TABLE "public"."MedicalHistory"
```

## Changes

```diff
diff --git schema.prisma schema.prisma
migration 20210201173048-change-medical-to-medicine..20210201173148-chagne-medical-to-medeicne
--- datamodel.dml
+++ datamodel.dml
@@ -1,7 +1,7 @@
 datasource postgresql {
   provider = "postgresql"
-  url = "***"
+  url = "***"
 }
 generator client {
   provider = "prisma-client-js"
@@ -105,9 +105,9 @@
   sex              Sex
   organizationId   String
   guardianName     String?
   pateintLab       PatientLab[]
-  medicineHistory   MedicalHistory[]
+  medicineHistory  MedicineHistory[]
   familyHistory    FamilyHistory[]
   inventoryHistory InventoryHistory[]
   patientSurgery   PatientSurgery[]
 }
@@ -275,9 +275,9 @@
   patientLab   PatientLab @relation(fields: [patientLabId], references: [id])
   patientLabId String
 }
-model MedicalHistory {
+model MedicineHistory {
   id           String    @id @default(uuid())
   medicineName String
   frequency    String?
   dose         String?
```


