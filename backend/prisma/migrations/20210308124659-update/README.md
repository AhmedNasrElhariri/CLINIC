# Migration `20210308124659-update`

This migration has been generated by ahmed nasr at 3/8/2021, 2:46:59 PM.
You can check out the [state of the schema](./schema.prisma) after the migration.

## Database Steps

```sql
ALTER TABLE "public"."PatientLab" DROP CONSTRAINT "PatientLab_patientId_fkey"

ALTER TABLE "public"."LabDocument" DROP CONSTRAINT "LabDocument_patientLabId_fkey"

ALTER TABLE "public"."LabDocument" DROP COLUMN "patientLabId"

DROP TABLE "public"."PatientLab"
```

## Changes

```diff
diff --git schema.prisma schema.prisma
migration 20210308123734-update..20210308124659-update
--- datamodel.dml
+++ datamodel.dml
@@ -1,7 +1,7 @@
 datasource postgresql {
   provider = "postgresql"
-  url = "***"
+  url = "***"
 }
 generator client {
   provider = "prisma-client-js"
@@ -160,9 +160,8 @@
   organizationId   String
   user             User                  @relation(fields: [userId], references: [id])
   userId           String
   guardianName     String?
-  pateintLabs      PatientLab[]
   medicineHistory  MedicineHistory[]
   familyHistory    FamilyHistory[]
   inventoryHistory InventoryHistory[]
   patientSurgeries PatientSurgery[]
@@ -317,18 +316,8 @@
   title  String @unique
   body   String
 }
-model PatientLab {
-  id        String        @id @default(uuid())
-  patient   Patient       @relation(fields: [patientId], references: [id])
-  patientId String
-  name      String
-  documents LabDocument[]
-
-  @@unique([name, patientId], name: "name_patientId_unique_constraint")
-}
-
 model LabDocument {
   id           String       @id @default(uuid())
   file         File?        @relation(fields: [fileId], references: [id])
   fileId       String?
```


