// This is your Prisma schema file,
// learn more about it in the docs https//pris.ly/d/prisma-schema

datasource db {
  provider = "postgresql"
  url = "***"
}

generator client {
  provider = "prisma-client-js"
}

enum AppointmentType {
    Examination
    Followup
}

enum Sex {
    Female
    Male
}

enum Specialty {
  Dentistry
}

enum PatientMembershipType {
  Primary
  Secondary
}

model User {
  id                 Int @default(autoincrement()) @id
  name               String
  specialty          Specialty
}

model Patient {
  id                 Int @default(autoincrement()) @id
  name               String
  phoneNo            String @unique
  type               PatientMembershipType
  appointments       Appointment[]
  age                Int
  sex                Sex
}

model Appointment {
  id                 Int @default(autoincrement()) @id
  date               DateTime @unique @default(now())
  type               AppointmentType
  patient            Patient @relation(fields: [patientId], references: [id])
  patientId          Int
  specialty          Specialty
  doctor             User @relation(fields: [doctorId], references: [id])
  doctorId           Int 
  labs               String? @default("[]")
  complain           String? @default("")
  signs              String? @default("")
  diagnosis          String? @default("")
  treatment          String? @default("")
  recommendations    String? @default("")

  weight             Float?  @default(-1)
  height             Float?  @default(-1)
  pulse              Float?  @default(-1)
  temp               Float?  @default(-1)
  glucoseLevel       Float?  @default(-1)
  archived           Boolean @default(false)
}

