# Migration `20201023224104-add-organization-to-item`

This migration has been generated by etahoon at 10/24/2020, 12:41:04 AM.
You can check out the [state of the schema](./schema.prisma) after the migration.

## Database Steps

```sql
ALTER TABLE "public"."Item" ADD COLUMN "organizationId" text   NOT NULL 

ALTER TABLE "public"."Item" ADD FOREIGN KEY ("organizationId")REFERENCES "public"."Organization"("id") ON DELETE CASCADE ON UPDATE CASCADE
```

## Changes

```diff
diff --git schema.prisma schema.prisma
migration 20201023223841-rename-inventoryitem-to-item..20201023224104-add-organization-to-item
--- datamodel.dml
+++ datamodel.dml
@@ -1,7 +1,7 @@
 datasource postgresql {
   provider = "postgresql"
-  url = "***"
+  url = "***"
 }
 generator client {
   provider = "prisma-client-js"
@@ -326,11 +326,13 @@
   images          File[]
 }
 model Item {
-  id              String   @id @default(uuid())
-  name            String   
-  unitOfMeasure   UnitOfMeaure   
-  unitsCount      Int
-  barcode         String?
-  notes           String?
+  id                String   @id @default(uuid())
+  name              String   
+  unitOfMeasure     UnitOfMeaure   
+  unitsCount        Int
+  barcode           String?
+  notes             String?
+  organization      Organization     @relation(fields: [organizationId], references: [id])
+  organizationId    String
 }
```


