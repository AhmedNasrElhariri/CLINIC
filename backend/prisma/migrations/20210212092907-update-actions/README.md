# Migration `20210212092907-update-actions`

This migration has been generated by etahoon at 2/12/2021, 11:29:07 AM.
You can check out the [state of the schema](./schema.prisma) after the migration.

## Database Steps

```sql
Begin;
CREATE TYPE "public"."PermissionAction_new" AS ENUM ('List_Appointment', 'Create_Appointment', 'Reschedule_Appointment', 'Finish_Appointment', 'Cancel_Appointment', 'Archive_Appointment', 'View_Patient', 'View_Accounting', 'AddRevenue_Accounting', 'AddExpense_Accounting', 'EditRevenue_Accounting', 'EditExpense_Accounting', 'Print_Accounting', 'View_Calendar', 'CreateEvent_Calendar', 'View_Inventory', 'AddItem_Inventory', 'ViewHistory_Inventory', 'DefineItem_Inventory');
ALTER TABLE "public"."Permission" ALTER COLUMN "action" DROP DEFAULT,
                            ALTER COLUMN "action" TYPE "PermissionAction_new" USING ("action"::text::"PermissionAction_new"),
                            ALTER COLUMN "action" SET DEFAULT 'List_Appointment';
ALTER TYPE "PermissionAction" RENAME TO "PermissionAction_old";
ALTER TYPE "PermissionAction_new" RENAME TO "PermissionAction";
DROP TYPE "PermissionAction_old";
Commit
```

## Changes

```diff
diff --git schema.prisma schema.prisma
migration 20210212063725-add-permission-enum..20210212092907-update-actions
--- datamodel.dml
+++ datamodel.dml
@@ -1,7 +1,7 @@
 datasource postgresql {
   provider = "postgresql"
-  url = "***"
+  url = "***"
 }
 generator client {
   provider = "prisma-client-js"
@@ -74,16 +74,15 @@
   AddRevenue_Accounting
   AddExpense_Accounting
   EditRevenue_Accounting
   EditExpense_Accounting
-  PrintAccounting
-  ViewCalendar
+  Print_Accounting
+  View_Calendar
   CreateEvent_Calendar
   View_Inventory
   AddItem_Inventory
   ViewHistory_Inventory
   DefineItem_Inventory
-
 }
 ////////////////////////////////////////////////////////////////////////////////////////////////////////
```
